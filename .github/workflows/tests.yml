name: Tests
on: [push, pull_request]

jobs:
    tests:
        name: Tests
        runs-on: ubuntu-latest
        env:
            CLIENT_ID: "${{ secrets.NINJARMM_CLIENT_ID }}"
            CLIENT_SECRET: "${{ secrets.NINJARMM_CLIENT_SECRET }}"
            ENCRYPTION_PASSPHRASE: "${{ secrets.NINJARMM_ENCRYPTION_PASSPHRASE }}"
            BASE_URL: "${{ secrets.NINJARMM_BASE_URL }}"
            TEST_DATA: "${{ secrets.NINJARMM_TEST_DATA }}"
        steps:
            - uses: actions/checkout@v4
            - uses: actions/setup-go@v5
              with:
                  go-version: ">=1.22.1"
            - run: go test ./...
